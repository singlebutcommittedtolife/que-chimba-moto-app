{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import Header from'../../components/header/Header';import Footer from'../../components/footer/Footer';import Slider from\"react-slick\";import\"slick-carousel/slick/slick.css\";import\"slick-carousel/slick/slick-theme.css\";import{getActiveRaffle}from'../../services/raffleService';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const TicketButton=_ref=>{let{quantity,price}=_ref;return/*#__PURE__*/_jsxs(Link,{to:`/purchase?quantity=${quantity}`,className:\"bg-teal-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-600 transition duration-300 text-sm\",children:[\"Comprar \",quantity,\" fondo\",quantity>1?'s':'',\" - $\",(price*quantity).toLocaleString()]});};const Home=()=>{const sliderSettings={dots:true,infinite:true,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:true,autoplaySpeed:3000};const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[activeRaffle,setActiveRaffle]=useState({});// Nuevo useEffect para cargar la rifa al entrar en la aplicación\nuseEffect(()=>{console.log(\"useEffect 1\");const fetchRaffle=async()=>{try{const data=await getActiveRaffle();// Llama al servicio\nsetActiveRaffle({id:data.id,name:data.nameRaffle,description:data.description,price:parseFloat(data.price['$numberDecimal'])// Convertir a número\n});setLoading(false);}catch(err){setError('Error al cargar los datos de la rifa');setLoading(false);}};fetchRaffle();// Llamada al servicio al montar el componente\n},[]);const sliderImages=[\"/img/moto1.jpg\",\"/img/moto2.jpg\",\"/img/moto3.jpg\"];return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 py-8\",children:[/*#__PURE__*/_jsx(\"section\",{className:\"mb-12\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-center mb-4\",children:\"QUE CHIMBA DE MOTO\"})}),/*#__PURE__*/_jsx(\"section\",{className:\"mb-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-2xl rounded-lg overflow-hidden\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"md:flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-8 max-w-sm mx-4\",children:/*#__PURE__*/_jsx(Slider,{...sliderSettings,children:sliderImages.map((img,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"outline-none px-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"aspect-w-3 aspect-h-4 bg-gray-200 rounded-lg overflow-hidden shadow-md\",children:/*#__PURE__*/_jsx(\"img\",{src:img,alt:`Moto ${index+1}`,className:\"w-full h-full object-cover object-center\"})})},index))})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-16\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xl text-center text-gray-600 mb-6\",children:\"\\xA1Compra tus fondos de moto!\"}),/*#__PURE__*/_jsx(\"div\",{className:\"uppercase tracking-wide text-sm text-blue-600 font-semibold\",children:activeRaffle.name}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-500\",children:activeRaffle.description}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-500 inline\",children:\"Precio:\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-2 text-l text-blue-600 inline ml-2\",children:[\"  $\",activeRaffle.price?activeRaffle.price.toLocaleString():'Cargando...']}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2\",children:[/*#__PURE__*/_jsx(TicketButton,{quantity:2,price:activeRaffle.price}),/*#__PURE__*/_jsx(TicketButton,{quantity:4,price:activeRaffle.price}),/*#__PURE__*/_jsx(TicketButton,{quantity:6,price:activeRaffle.price})]}),/*#__PURE__*/_jsx(Link,{to:\"/purchase\",className:\"block text-center bg-teal-500 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-600 transition duration-300\",children:\"Comprar m\\xE1s fondos\"})]})]})]})})})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default Home;","map":{"version":3,"names":["React","useState","useEffect","Link","Header","Footer","Slider","getActiveRaffle","jsxs","_jsxs","jsx","_jsx","TicketButton","_ref","quantity","price","to","className","children","toLocaleString","Home","sliderSettings","dots","infinite","speed","slidesToShow","slidesToScroll","autoplay","autoplaySpeed","loading","setLoading","error","setError","activeRaffle","setActiveRaffle","console","log","fetchRaffle","data","id","name","nameRaffle","description","parseFloat","err","sliderImages","map","img","index","src","alt"],"sources":["C:/Users/miche/Documents/PaginasWeb/que-chimba-moto-app/client/src/pages/home/Home.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Header from '../../components/header/Header';\r\nimport Footer from '../../components/footer/Footer';\r\nimport Slider from \"react-slick\";\r\nimport \"slick-carousel/slick/slick.css\"; \r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport { getActiveRaffle } from '../../services/raffleService';  \r\n\r\nconst TicketButton = ({ quantity, price }) => (\r\n  <Link \r\n    to={`/purchase?quantity=${quantity}`} \r\n    className=\"bg-teal-500 text-white font-bold py-2 px-4 rounded hover:bg-blue-600 transition duration-300 text-sm\"\r\n  >\r\n    Comprar {quantity} fondo{quantity > 1 ? 's' : ''} - ${(price* quantity).toLocaleString()}\r\n  </Link>\r\n);\r\n\r\n\r\nconst Home = () => {\r\n  const sliderSettings = {\r\n    dots: true,\r\n    infinite: true,\r\n    speed: 500,\r\n    slidesToShow: 1,\r\n    slidesToScroll: 1,\r\n    autoplay: true,\r\n    autoplaySpeed: 3000\r\n  };\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  \r\n  const [activeRaffle, setActiveRaffle] = useState({});\r\n  // Nuevo useEffect para cargar la rifa al entrar en la aplicación\r\n  useEffect(() => {\r\n    console.log(\"useEffect 1\");\r\n    const fetchRaffle = async () => {\r\n      try {\r\n        const data = await getActiveRaffle(); // Llama al servicio\r\n        setActiveRaffle({\r\n          id: data.id,\r\n          name: data.nameRaffle,\r\n          description: data.description,\r\n          price: parseFloat(data.price['$numberDecimal']), // Convertir a número\r\n        });\r\n        setLoading(false);\r\n      } catch (err) {\r\n        setError('Error al cargar los datos de la rifa');\r\n        setLoading(false);\r\n      }\r\n    };\r\n  \r\n    fetchRaffle(); // Llamada al servicio al montar el componente\r\n  }, []); \r\n  const sliderImages = [\r\n    \"/img/moto1.jpg\",\r\n    \"/img/moto2.jpg\",\r\n    \"/img/moto3.jpg\",\r\n  ];\r\n  return (\r\n    <div>\r\n    <Header/>\r\n    <div className=\"container mx-auto px-4 py-8\">\r\n      <section className=\"mb-12\">\r\n        <h1 className=\"text-4xl font-bold text-center mb-4\">QUE CHIMBA DE MOTO</h1>\r\n\r\n\r\n      </section>\r\n\r\n      <section className=\"mb-12\">\r\n        <div className=\"bg-white shadow-2xl rounded-lg overflow-hidden\">\r\n          <div className=\"md:flex\">\r\n                      {/* Slider de fotos */}\r\n          <div className=\"mb-8 max-w-sm mx-4\">\r\n          <Slider {...sliderSettings}>\r\n            {sliderImages.map((img, index) => (\r\n              <div key={index} className=\"outline-none px-1\">\r\n                <div className=\"aspect-w-3 aspect-h-4 bg-gray-200 rounded-lg overflow-hidden shadow-md\">\r\n                  <img \r\n                    src={img} \r\n                    alt={`Moto ${index + 1}`} \r\n                    className=\"w-full h-full object-cover object-center\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </Slider>\r\n        </div>\r\n            <div className=\"p-16\">\r\n            <p className=\"text-xl text-center text-gray-600 mb-6\">¡Compra tus fondos de moto!</p>\r\n\r\n              <div className=\"uppercase tracking-wide text-sm text-blue-600 font-semibold\">{activeRaffle.name}</div>\r\n              <p className=\"mt-2 text-gray-500\">{activeRaffle.description}</p>\r\n              <p className=\"mt-2 text-gray-500 inline\">Precio:</p>\r\n              <p className=\"mt-2 text-l text-blue-600 inline ml-2\">  ${activeRaffle.price ? activeRaffle.price.toLocaleString() : 'Cargando...'}\r\n              </p>\r\n              <div className=\"mt-6 space-y-4\">\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  <TicketButton quantity={2} price={activeRaffle.price}  />\r\n                  <TicketButton quantity={4} price={activeRaffle.price}  />\r\n                  <TicketButton quantity={6} price={activeRaffle.price}  />\r\n                </div>\r\n                <Link to=\"/purchase\" className=\"block text-center bg-teal-500 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-600 transition duration-300\">\r\n                  Comprar más fondos\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n    <Footer/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}